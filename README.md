## Vertical Landing for Reusable Rockets Using MPC and QP Optimization
This repo presents control software for optimized descent and vertical landing of reusable rockets using model predictive control (MPC) and quadratic programming (QP) optimization. Finite-time QP optimization is used to generate a smooth and feasible landing trajectory for a reusable rocket. Model Predictive Control (MPC) is then used to control a dynamic rocket model (using gimbaled thrusters) along the previously generated reference trajectory. Moreover, the control method allows safe vertical landing over a variety of initial conditions (rocket parameters, altitudes, velocities, etc.). Please note that this repo only contains a sample of the control software as some libraries/functions are proprietary.

### CFTOC Trajectory Generator

The `cftoc_landing_trajectory.py` file uses quadratic programming (QP) finite-time optimization to generate a smooth and feasible reference trajectory from the rockets initial state to the landing zone. This trajectory generator uses the `Pyomo` package for optimization and applies safety constraints based on the properties of the rocket and payload (max delta, max accel, max thrust, etc.) to generate a safe and feasible landing trajectory. Note that fuel consumption and time of descent is optimized while conforming to the rocket safety constraints.   

### MPC Vehicle Controller

The reference trajectory generated by `cftoc_landing_trajectory.py` then feeds into the MPC path following algorithm in the `mpc_rocket_controller.py` file. Specifically, this vehicle controller generates control inputs to accurately guide a high-fidelity rocket model along the reference landing trajectory. Note that a 2-norm MPC is used track the reference trajectory where the trajectory signal changes over the simulation time but remains fixed over the MPC horizon.

### Reachability Analysis

Reachability analysis uses optimal control to model and predict safe and unsafe trajectories for stochastically evolving systems. Using reachability analysis the `reachability-analysis.py` script produces a comprehensive set of initial states and flight trajectories for which the rocket is guaranteed to achieve the desired terminal conditions. Furthermore, the script generates plots of feasible yet unsafe states for the rocket controller to avoid. This script allows us to analyze the safety of our controller by considering both optimial solutions and unsafe feasible generated by worst-case disturbances.
